Create a GitHub issue for a Task Master task using the exact magents format.

## Implementation Steps

1. **Get task details:**
```bash
TASK_JSON=$(tm show $ARGUMENTS --json 2>/dev/null || echo "")
if [ -z "$TASK_JSON" ]; then
  # Fallback to text parsing if --json not supported
  TASK_OUTPUT=$(tm show $ARGUMENTS)
  # Parse the output to extract task details
fi
```

2. **Generate the issue body:**
```bash
cat > /tmp/magents-issue-$ARGUMENTS.md << 'EOF'
## Problem Statement

${task.description || 'Implement the functionality described in Task Master task ' + task.id + ' to meet project requirements and user needs.'}

## Proposed Solution

${task.details || 'Implement ' + task.title + ' according to the task specifications and project architecture patterns.'}

## User Stories

- As a user, I want ${task.title.toLowerCase()} so that I can have the functionality described in task ${task.id}
- As a developer, I want clear implementation guidance so that I can deliver this feature efficiently

## Acceptance Criteria

${task.subtasks && task.subtasks.length > 0 
  ? task.subtasks.map(subtask => `- [ ] ${subtask.title}`).join('\n')
  : `- [ ] Feature implemented according to task requirements
- [ ] Code follows project conventions and patterns
- [ ] Implementation is properly tested`}

## Technical Considerations

**Task ID:** ${task.id}
**Priority:** ${task.priority || 'medium'}
**Dependencies:** ${task.dependencies && task.dependencies.length > 0 ? task.dependencies.join(', ') : 'None'}

${task.testStrategy ? `**Test Strategy:** ${task.testStrategy}` : ''}

**Agent Setup:**
- Branch: \`feature/${task.id}-${slugify(task.title)}\`
- Agent: \`task-${task.id}-agent\`
- Task Master Integration: ✅ Enabled

## Implementation Approach

- [ ] **Research & Planning**: Analyze requirements and create implementation plan
- [ ] **Environment Setup**: Ensure development environment is properly configured
- [ ] **Core Implementation**: Implement the main functionality
- [ ] **Testing**: Write and run tests to verify implementation
- [ ] **Documentation**: Update relevant documentation
- [ ] **Review**: Code review and refinements

## Definition of Done

- [ ] Feature implemented and working as specified
- [ ] Tests written and passing (unit, integration as needed)
- [ ] Code follows project style guidelines
- [ ] Documentation updated (if applicable)
- [ ] Code reviewed and approved
- [ ] Task Master status updated to 'done'
- [ ] Ready for deployment/merge

## Development Setup

\`\`\`bash
# Create dedicated agent for this task
magents task-create ${task.id} --prefix feature --create-issue

# Attach to dedicated agent
magents attach task-${task.id}-agent

# Available Task Master commands in agent
tm show ${task.id}                    # Get detailed task information
tm set-status --id=${task.id} --status=in_progress  # Mark as started
tm update-subtask --id=${task.id} --prompt="implementation notes"  # Log progress
tm set-status --id=${task.id} --status=done  # Mark as complete

# Work on this issue using the structured workflow
magents work-issue ${task.id}        # Start structured development workflow
\`\`\`

## Related Issues/PRs

${task.dependencies && task.dependencies.length > 0 
  ? `**Dependencies:** This issue depends on tasks: ${task.dependencies.join(', ')}`
  : ''}

*Links to related PRs will be added as development progresses*

## Additional Context

**Task Master Context:**
- This issue was automatically generated from Task Master task ${task.id}
- Full task details and project context available in the dedicated agent
- Agent has complete Task Master environment with inherited project settings

**Development Notes:**
- Use the dedicated agent (\`task-${task.id}-agent\`) for isolated development
- Agent has full project context and Task Master integration
- Follow the PLAN → CREATE → TEST → DEPLOY workflow

---
*Auto-generated by Magents Task Agent System for Task Master task ${task.id}*
EOF
```

3. **Create the GitHub issue:**
```bash
gh issue create \
  --title "[Feature] ${task.title}" \
  --body-file /tmp/magents-issue-$ARGUMENTS.md \
  --label "task-master,${task.priority || 'medium'}-priority"
```

4. **Clean up:**
```bash
rm -f /tmp/magents-issue-$ARGUMENTS.md
```

## Full Implementation Script

I'll create and execute a complete script that:
1. Fetches task details from Task Master
2. Parses the task information (handles both JSON and text output)
3. Generates the issue body with all sections
4. Creates the GitHub issue
5. Returns the issue URL

The script will handle:
- Missing task details gracefully
- Both old and new Task Master versions
- Proper markdown formatting
- All the professional sections from the magents format